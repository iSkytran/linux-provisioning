---
- name: Provision Ubuntu dev environment
  hosts: localhost
  connection: local
  tasks:
  - name: Basic provisioning
    include_role:
      name: "{{ outer_item }}"
    loop:
      - system
      - ssh
      - plugins
      - configure
    loop_control:
      loop_var: outer_item
  
  - name: Provision with Docker
    include_role:
      name: docker
    when: "system != 'wsl'"
